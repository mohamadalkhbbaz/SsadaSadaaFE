

SELECT 
    pg_terminate_backend(pid) 
FROM 
    pg_stat_activity 
	WHERE 
    -- don't kill my own connection!
    pid <> pg_backend_pid()
    -- don't kill the connections to other databases
    AND datname = 'database_name'
    ;


SELECT 
  *
FROM pg_stat_activity
WHERE state = 'active';

select  * from
(select count(*) used from pg_stat_activity) q1,
(select setting::int res_for_super from pg_settings where name=$$superuser_reserved_connections$$) q2,
(select setting::int max_conn from pg_settings where name=$$max_connections$$) q3;


SELECT * FROM pg_stat_activity Order by client_addr



-------------------TO Terminate 
	SELECT 
		pg_terminate_backend(pg_stat_activity.pid)
	FROM 
		pg_stat_activity 
		WHERE 
		-- don't kill my own connection!
		datname = 'postgres'
		-- don't kill the connections to other databases
		 
		
		